@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 220.9091 39.2857% 10.9804%;
    --card: 0 0% 100%;
    --card-foreground: 220.9091 39.2857% 10.9804%;
    --popover: 0 0% 100%;
    --popover-foreground: 220.9091 39.2857% 10.9804%;
    --primary: 160.1183 84.0796% 39.4118%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220.0000 14.2857% 95.8824%;
    --secondary-foreground: 220.9091 39.2857% 10.9804%;
    --muted: 220.0000 14.2857% 95.8824%;
    --muted-foreground: 220 8.9362% 46.0784%;
    --accent: 220.0000 14.2857% 95.8824%;
    --accent-foreground: 220.9091 39.2857% 10.9804%;
    --destructive: 0 84.2365% 60.1961%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13.0435% 90.9804%;
    --input: 220 13.0435% 90.9804%;
    --ring: 160.1183 84.0796% 39.4118%;
    --chart-1: 160.1183 84.0796% 39.4118%;
    --chart-2: 258.3117 89.5349% 66.2745%;
    --chart-3: 37.6923 92.1260% 50.1961%;
    --chart-4: 217.2193 91.2195% 59.8039%;
    --chart-5: 0 84.2365% 60.1961%;
    --sidebar: 210 20.0000% 98.0392%;
    --sidebar-foreground: 220.9091 39.2857% 10.9804%;
    --sidebar-primary: 160.1183 84.0796% 39.4118%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220.0000 14.2857% 95.8824%;
    --sidebar-accent-foreground: 220.9091 39.2857% 10.9804%;
    --sidebar-border: 220 13.0435% 90.9804%;
    --sidebar-ring: 160.1183 84.0796% 39.4118%;
    --radius: 0.5rem;
    --shadow-2xs: 0px 2px 4px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0px 2px 4px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow-md: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 2px 4px -1px hsl(0 0% 0% / 0.10);
    --shadow-lg: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 4px 6px -1px hsl(0 0% 0% / 0.10);
    --shadow-xl: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 8px 10px -1px hsl(0 0% 0% / 0.10);
    --shadow-2xl: 0px 2px 4px 0px hsl(0 0% 0% / 0.25);
    --tracking-normal: 0rem;
    --spacing: 0.25rem;
    --gradient-primary: linear-gradient(135deg, hsl(142.1 76.2% 36.3%), hsl(158 64% 52%));
    --gradient-card: linear-gradient(135deg, hsl(0 0% 100%), hsl(210 40% 98%));
    --shadow-glow: 0 0 40px hsl(142.1 76.2% 36.3% / 0.1);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark {
    --background: 220 42.8571% 10.9804%;
    --foreground: 220 13.0435% 90.9804%;
    --card: 218.1818 39.2857% 10.9804%;
    --card-foreground: 210 20.0000% 98.0392%;
    --popover: 218.1818 39.2857% 10.9804%;
    --popover-foreground: 210 20.0000% 98.0392%;
    --primary: 158.1132 64.3725% 51.5686%;
    --primary-foreground: 165.7143 91.3043% 9.0196%;
    --secondary: 215.0000 27.9070% 16.8627%;
    --secondary-foreground: 210 20.0000% 98.0392%;
    --muted: 215.0000 27.9070% 16.8627%;
    --muted-foreground: 217.8947 10.6145% 64.9020%;
    --accent: 215.0000 27.9070% 16.8627%;
    --accent-foreground: 210 20.0000% 98.0392%;
    --destructive: 346.8367 77.1654% 49.8039%;
    --destructive-foreground: 210 20.0000% 98.0392%;
    --border: 215.0000 27.9070% 16.8627%;
    --input: 215.0000 27.9070% 16.8627%;
    --ring: 158.1132 64.3725% 51.5686%;
    --chart-1: 158.1132 64.3725% 51.5686%;
    --chart-2: 255.1351 91.7355% 76.2745%;
    --chart-3: 43.2558 96.4126% 56.2745%;
    --chart-4: 213.1169 93.9024% 67.8431%;
    --chart-5: 0 90.6040% 70.7843%;
    --sidebar: 218.1818 39.2857% 10.9804%;
    --sidebar-foreground: 220 13.0435% 90.9804%;
    --sidebar-primary: 158.1132 64.3725% 51.5686%;
    --sidebar-primary-foreground: 165.7143 91.3043% 9.0196%;
    --sidebar-accent: 215.0000 27.9070% 16.8627%;
    --sidebar-accent-foreground: 210 20.0000% 98.0392%;
    --sidebar-border: 215.0000 27.9070% 16.8627%;
    --sidebar-ring: 158.1132 64.3725% 51.5686%;
    --radius: 0.5rem;
    --shadow-2xs: 0px 2px 4px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0px 2px 4px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
    --shadow-md: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 2px 4px -1px hsl(0 0% 0% / 0.10);
    --shadow-lg: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 4px 6px -1px hsl(0 0% 0% / 0.10);
    --shadow-xl: 0px 2px 4px 0px hsl(0 0% 0% / 0.10), 0px 8px 10px -1px hsl(0 0% 0% / 0.10);
    --shadow-2xl: 0px 2px 4px 0px hsl(0 0% 0% / 0.25);

    --gradient-primary: linear-gradient(135deg, hsl(142.1 76.2% 36.3%), hsl(158 64% 52%));
    --gradient-card: linear-gradient(135deg, hsl(217.2 32.6% 17.5%), hsl(217.2 32.6% 19.5%));
    --shadow-glow: 0 0 40px hsl(142.1 76.2% 36.3% / 0.15);
  }

  * { @apply border-border; }
  body {
    @apply bg-background text-foreground font-grotesk;
    letter-spacing: var(--tracking-normal);
  }

  .code-block {
    @apply bg-card border border-border rounded-lg p-4 font-mono text-sm overflow-auto max-w-full;
    background: var(--gradient-card);
    box-shadow: var(--shadow-glow);
  }

  /* --- Glow Button: lively hover micro-interaction --- */
  .glow-button {
    @apply relative inline-flex items-center justify-center overflow-hidden
    transform-gpu will-change-transform
    transition-[transform,box-shadow,background-position,filter] duration-300;
    background: var(--gradient-primary);
    background-size: 180% 180%;
    background-position: 0% 50%;
    border-radius: inherit; /* match parent radius */
  }

  /* subtle idle halo */
  .glow-button::before {
    content: "";
    position: absolute;
    inset: -20%;
    background: radial-gradient(60% 60% at 50% 120%, rgba(255,255,255,.25), transparent 60%);
    filter: blur(12px);
    opacity: 0;
    transition: opacity .3s ease-out;
    pointer-events: none;
  }

  /* sheen that slides across on hover */
  .glow-button::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, transparent 30%, rgba(255,255,255,.35), transparent 70%);
    transform: translateX(-120%);
    transition: transform .7s ease-out;
    pointer-events: none;
  }

  .glow-button:hover {
    /* keep final state here so it holds after the pop animation */
    transform: translateY(-1px) scale(1.03);
    background-position: 100% 50%;
    filter: brightness(1.03) saturate(1.06);
    box-shadow: var(--shadow-glow);
    animation: button-pop .22s ease-out both;
  }

  .glow-button:hover::after {
    transform: translateX(120%); /* run the sheen */
  }

  .glow-button:hover::before {
    opacity: .8; /* bring in the halo */
  }

  /* tactile press feedback */
  .glow-button:active {
    transform: translateY(0) scale(.98);
    transition-duration: 80ms;
  }

  /* accessibility + disabled */
  @media (prefers-reduced-motion: reduce) {
    .glow-button, .glow-button::after, .glow-button::before {
      transition: none;
      animation: none !important;
    }
  }
  .glow-button:disabled,
  .glow-button[aria-disabled="true"] {
    @apply cursor-not-allowed;
    filter: grayscale(.2) brightness(.9);
    box-shadow: none;
    transform: none;
  }

  @keyframes button-pop {
    0%   { transform: translateY(0) scale(1); }
    65%  { transform: translateY(-2px) scale(1.06); } /* overshoot */
    100% { transform: translateY(-1px) scale(1.03); } /* settle */
  }

  .glass {
    @apply backdrop-blur-md border;
    background: color-mix(in hsl, hsl(var(--card)) 70%, transparent);
  }

  :focus-visible { outline: 2px solid hsl(var(--ring)); outline-offset: 2px; }
}

@layer utilities {
  .content-width { @apply container mx-auto px-4; }
  .sr { @apply sr-only; }
}

@media (max-width: 640px) {
  html { font-size: 15px; }
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-thumb {
  @apply rounded-3xl bg-muted-foreground/75;
}